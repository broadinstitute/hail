 - rebuild the image:
   - add emacs-nox to image
   - installed pip packages to image
   - pre-pull used docker images
   - google libraries

sortedcontainers google-api-python-client google-cloud==0.32.0

rm pipeline.log; GOOGLE_CLOUD_DISABLE_GRPC=true ZONE=us-central1-a PROJECT=broad-ctsa PYTHONPATH=$HOME/hail/hail/python python3 test.py

make check && make -C ../hail/python check && make copy-all && git add -u && git commit -m 'wip' && git push origin

 - scale test 300K on 1000 nodes

 - keep an eye out for intermittent gsutil errors

 - move resources to somewhere like gs://hail-common/cseed/pipeline_google_backend/

 - log in another thread, put events on a queue

 - status UI

 - run scale tests: 300, 3K, 30K, 300K, 3M
   - done: 30, 300, 3000, 30K

 - 30K, while running:
cotton   18233 59.1  0.7 1057796 228180 pts/1  Sl+  23:10   0:31 python3 scale-test.py 44 681
cotton   18233 25.1  1.3 5154568 426400 pts/1  Rl+  23:10   0:38 python3 scale-test.py 44 681
cotton   18233 23.1  1.4 5172948 453440 pts/1  Sl+  23:10   0:49 python3 scale-test.py 44 681

 - run tests (later)

get internal IP:
curl -H "Metadata-Flavor: Google" "http://metadata.google.internal/computeMetadata/v1/instance/network-interfaces/0/ip"

3 7 => 31
(+ 3 7 (* 3 7))

11 25 => 311
(+ 11 25 (* 11 25))

33 89 => 3059
(+ 33 89 (* 33 89))

44 681 => 30689
(+ 44 681 (* 44 681))

136 2200 => 301.5K
(+ 136 2200 (* 136 2200))
